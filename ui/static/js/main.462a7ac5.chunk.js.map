{"version":3,"sources":["components/MessageList/index.module.css","components/UserHeader/index.module.css","components/EventList/index.module.css","components/EventHeader/index.module.css","components/UserList/index.module.css","components/Message/index.module.css","components/CreateMessageForm/index.module.css","components/CreateEventForm/index.module.css","components/WelcomeScreen/index.module.css","components/JoinEventScreen/index.module.css","components/RegisterScreen/index.module.css","components/UserHeader/index.js","components/EventHeader/index.js","components/UserList/index.js","components/Message/index.js","components/MessageList/index.js","components/CreateMessageForm/index.js","components/EventList/index.js","components/CreateEventForm/index.js","components/WelcomeScreen/index.js","components/RegisterScreen/index.js","index.js"],"names":["module","exports","component","empty","pulse","hint","online","UserHeader","_ref","_ref$user","user","react_default","a","createElement","className","style","src","avatarURL","alt","name","id","concat","substring","EventHeader","_ref$state","state","event","sidebarOpen","userListOpen","_ref$actions","actions","setSidebar","setUserList","onClick","e","xlinkHref","replace","users","length","UserList","current","map","key","avatar_url","Message","message","profile","sender","timestamp","date","Date","minutes","getMinutes","getHours","time","createdAt","Linkify_default","properties","target","text","emptyList","role","aria-label","MessageList","_ref$messages","messages","createConvo","Object","keys","reverse","k","CreateMessageForm","eventId","sendMessage","runCommand","onSubmit","preventDefault","value","trim","startsWith","slice","placeholder","type","EventList","_ref$events","events","messageKeys","latestMessage","pop","firstUser","find","x","result","push","disabled","setEvent","match","isPrivate","joinEvent","EventHeader_EventHeader","MessageList_MessageList","CreateMessageForm_CreateMessageForm","UserList_UserList","CreateEventForm","submit","description","WelcomeScreen","viewBox","d","RegisterScreen","registerUser","View","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","holochainConnection","connect","connected","window","innerWidth","setState","setUser","getEvents","getMessages","getEventMembers","scrollToEnd","console","log","makeHolochainCall","event_address","Ok","forEach","address","getUserProfile","objectSpread","message_type","Math","floor","now","payload","meta","setTimeout","eventMessages","_ref2","entry","author","defineProperty","createEvent","options","eventSpec","initial_members","userId","agent_address","_ref3","private","public","_ref4","elem","document","querySelector","scrollTop","_this2","then","_ref5","JSON","parse","callString","params","callback","_ref6","_this$state","_this$actions","data-open","UserHeader_UserHeader","CreateEventForm_CreateEventForm","EventList_EventList","RegisterScreen_RegisterScreen","WelcomeScreen_WelcomeScreen","React","Component","ReactDOM","render","src_View"],"mappings":"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","file":"static/js/main.462a7ac5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"MessageList_component__3Jb7r\",\"empty\":\"MessageList_empty__1Myde\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"UserHeader_component__2-UeJ\",\"pulse\":\"UserHeader_pulse__1Rv-q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"EventList_component__2HJ2l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"EventHeader_component__1S0Hp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"UserList_component__1Bvgl\",\"hint\":\"UserList_hint__13cgQ\",\"online\":\"UserList_online__2-T-s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Message_component__M0vwd\",\"online\":\"Message_online__2Ma59\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"CreateMessageForm_component__19Y_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"CreateEventForm_component__3FljJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"WelcomeScreen_component__ppP4r\",\"pulse\":\"WelcomeScreen_pulse__pi2ed\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"JoinEventScreen_component__1adX3\",\"pulse\":\"JoinEventScreen_pulse__1XkwG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"RegisterScreen_component__2Bjhi\",\"pulse\":\"RegisterScreen_pulse__H7WqE\"};","import React from 'react'\nimport style from './index.module.css'\n\nconst placeholder =\n  'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n\nexport const UserHeader = ({ user = {} }) => (\n  <header className={style.component}>\n    <img src={user.avatarURL || placeholder} alt='' />\n    <div>\n      <h3>{user.name}</h3>\n      <h5>{user.id && `@${user.id.substring(0, 15)}`}</h5>\n    </div>\n  </header>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const EventHeader = ({\n  state: { event, user, sidebarOpen, userListOpen },\n  actions: { setSidebar, setUserList }\n}) => (\n  <header className={style.component}>\n    <button onClick={e => setSidebar(!sidebarOpen)}>\n      <svg>\n        <use xlinkHref='index.svg#menu' />\n      </svg>\n    </button>\n    <h1>{event.name && event.name.replace(user.id, '')}</h1>\n    {event.users && (\n      <div onClick={e => setUserList(!userListOpen)}>\n        <span>{event.users.length}</span>\n        <svg>\n          <use xlinkHref='index.svg#members' />\n        </svg>\n      </div>\n    )}\n  </header>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const UserList = ({ event, current, users }) => (\n  <ul className={style.component}>\n    {event.users.map(user => (\n      <li\n        key={user}\n      >\n        <img src={users[user] ? users[user].avatar_url : ''} alt='' />\n        <p>{users[user] ? users[user].name : '?'}</p>\n        <h5>&nbsp;| {user && `@${user.substring(0, 15)}`}</h5>\n      </li>\n    ))}\n  </ul>\n)\n","import React from 'react'\nimport style from './index.module.css'\nimport Linkify from 'react-linkify'\n\nconst time = timestamp => {\n  const date = new Date(timestamp * 1000)\n  const minutes = date.getMinutes()\n  return `${date.getHours()}:${minutes < 10 ? '0' + minutes : minutes}`\n}\n\nexport const Message = ({ user, users }) => message => {\n  const profile = users[message.sender] || { name: '?', avatar_url: '' }\n  return message.sender ? (\n    <li key={message.id} className={style.component}>\n      <img\n        src={profile.avatar_url}\n        alt=''\n      />\n      <div>\n        <span>\n          {`${profile.name} | ${time(message.createdAt)}`}</span>\n        <p>\n          <Linkify properties={{ target: '_blank' }}>{message.text}</Linkify>\n        </p>\n      </div>\n    </li>\n  ) : null\n}\n","import React from 'react'\nimport style from './index.module.css'\nimport { Message } from '../Message'\n\nconst emptyList = (\n  <div className={style.empty}>\n    <span role='img' aria-label='post'>\n      📝\n    </span>\n    <h2>No Messages Yet</h2>\n    <p>Be the first to post in this event!</p>\n  </div>\n)\n\nexport const MessageList = ({ messages = {}, user, users, createConvo }) => (\n  <ul id='messages' className={style.component}>\n    {Object.keys(messages).length > 0 ? (\n      <wrapper->\n        {Object.keys(messages)\n          .reverse()\n          .map(k => Message({ user, createConvo, users })(messages[k]))}\n      </wrapper->\n    ) : (\n      emptyList\n    )}\n  </ul>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const CreateMessageForm = ({\n  eventId,\n  actions: { sendMessage, runCommand }\n}) =>\n  eventId ? (\n    <form\n      className={style.component}\n      onSubmit={e => {\n        e.preventDefault()\n\n        const message = e.target[0].value.trim()\n\n        if (message.length === 0) {\n          return\n        }\n\n        e.target[0].value = ''\n\n        message.startsWith('/')\n          ? runCommand(message.slice(1))\n          : sendMessage({\n            text: message,\n            eventId\n          })\n      }}\n    >\n      <input\n        placeholder='Type a Message..'\n      />\n      <button type='submit'>\n        <svg>\n          <use xlinkHref='index.svg#send' />\n        </svg>\n      </button>\n    </form>\n  ) : null\n","import React from 'react'\nimport style from './index.module.css'\nimport { EventHeader } from '../EventHeader'\nimport { UserList } from '../UserList'\nimport { MessageList } from '../MessageList'\nimport { CreateMessageForm } from '../CreateMessageForm'\n\nconst Icon = id => (\n  <svg>\n    <use xlinkHref={`index.svg#${id}`} />\n  </svg>\n)\n\nexport const EventList = ({\n  state,\n  events = [],\n  user,\n  users,\n  userListOpen,\n  messages,\n  current,\n  actions\n}) => (\n    <ul className={style.component}>\n      {events.map(event => {\n        const messageKeys = Object.keys(messages[event.id] || {})\n        const latestMessage =\n          messageKeys.length > 0 && messages[event.id][messageKeys.pop()]\n        const firstUser = event.users.find(x => x.id !== user.id)\n        let result = []\n        if (event.id !== current.id) {\n          result.push(<li\n            key={event.id}\n            disabled={event.id === current.id}\n            onClick={e => actions.setEvent(event)}\n          >\n            {event.name.match(user.id) && firstUser ? (\n              <img src={firstUser.avatarURL} alt={firstUser.id} />\n            ) : (\n                Icon(event.isPrivate ? 'lock' : 'public')\n              )}\n            <col->\n              <p>{event.name.replace(user.id, '')}</p>\n              <span>{latestMessage && latestMessage.text}</span>\n            </col->\n          </li>)\n        }\n\n        if (event.id === current.id) {\n          result.push(<li key={'openHeader' + event.id} disabled>\n            <button onClick={() => actions.joinEvent(event)}>Attend</button>\n            <EventHeader state={state} actions={actions} />\n          </li>)\n          result.push(<li key={'openPanel' + event.id} disabled>\n            <col->\n              <MessageList\n                user={user}\n                users={users}\n                messages={messages[event.id]}\n              />\n              <CreateMessageForm eventId={current ? current.id : false} actions={actions} />\n            </col->\n            {userListOpen && (\n              <UserList\n                event={event}\n                current={user.id}\n                users={users}\n              />\n            )}\n          </li>)\n        }\n        return result\n      })}\n    </ul>\n  )\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const CreateEventForm = ({ submit }) => (\n  <form\n    className={style.component}\n    onSubmit={e => {\n      e.preventDefault()\n\n      const name = e.target[0].value\n      const description = e.target[1].value\n\n      if (name.length === 0) {\n        return\n      }\n\n      submit({\n        name,\n        description\n      })\n      e.target[0].value = ''\n      e.target[1].value = ''\n    }}\n  > <label>Create a new event</label>\n    <input placeholder='Name...' name=\"eventDescription\" />\n    <input placeholder='Description...' />\n    <button type='submit'>\n      <svg>\n        <use xlinkHref='index.svg#add' />\n      </svg>\n    </button>\n  </form>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const WelcomeScreen = ({ message }) => (\n  <section>\n    <div className={style.component}>\n      <span role='img' aria-label='post'>\n        <svg viewBox='0 0 59 80'>\n          <g>\n            <path d='M48.417 49.444L38.585 73.229 36.012 71.394 41.802 56.726 31.211 59.519C31.211 59.519 26.022 42.42 26.513 30.837 26.218 22.744 27.644 16.96 30.167 13.6 34.274 8.408 42.099 3.953 49.793 7.645 54.701 9.869 57.658 13.889 58.107 17.824 59.479 34.859 38.498 41.817 38.498 41.817L38.085 38.191C38.085 38.191 44.945 35.464 49.105 29.553 53.266 23.643 51.245 15.88 46.569 14.464 42.061 13.577 37.34 18.757 36.516 27.966 34.721 41.776 39.393 52.006 39.393 52.006L48.417 49.444M0 62.396L15.402 74.372 16.522 71.783 8.26 65.71 16.853 63.305C16.853 63.305 10.998 47.535 10.597 32.251 10.229 27.354 9.896 11.684 15.924 8.975 16.976 7.213 18.743 5.903 18.743 5.903 18.743 5.903 3.467 4.584 4.184 32.453 5.706 51.166 9.451 59.821 9.451 59.821L0 62.396' />\n            <path d='M29.91,61.761 L38.969,59.263 L30.045,80 L11.998,66.538 L19.098,64.644 C19.098,64.644 3.276,20.694 21.128,5.095 C32.325,-3.789 43.164,3.999 42.965,4.872 C40.203,4.812 37.842,5.844 37.842,5.844 C37.842,5.844 31.789,3.265 27.475,12.503 C23.719,20.705 22.048,34.474 29.91,61.761' />\n            <path d='M41.806,17.606 C42.599,24.356 38.244,27.206 38.244,27.206 L37.819,30.659 C37.819,30.659 47.709,25.549 45.669,15.819 C44.566,15.913 42.212,17.242 41.806,17.606' />\n          </g>\n        </svg>\n      </span>\n      <p>\n        {message}\n      </p>\n    </div>\n  </section>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const RegisterScreen = ({ registerUser }) => (\n  <section>\n    <div className={style.component}>\n      <span role='img' aria-label='post'>\n        <svg viewBox='0 0 59 80'>\n          <g>\n            <path d='M48.417 49.444L38.585 73.229 36.012 71.394 41.802 56.726 31.211 59.519C31.211 59.519 26.022 42.42 26.513 30.837 26.218 22.744 27.644 16.96 30.167 13.6 34.274 8.408 42.099 3.953 49.793 7.645 54.701 9.869 57.658 13.889 58.107 17.824 59.479 34.859 38.498 41.817 38.498 41.817L38.085 38.191C38.085 38.191 44.945 35.464 49.105 29.553 53.266 23.643 51.245 15.88 46.569 14.464 42.061 13.577 37.34 18.757 36.516 27.966 34.721 41.776 39.393 52.006 39.393 52.006L48.417 49.444M0 62.396L15.402 74.372 16.522 71.783 8.26 65.71 16.853 63.305C16.853 63.305 10.998 47.535 10.597 32.251 10.229 27.354 9.896 11.684 15.924 8.975 16.976 7.213 18.743 5.903 18.743 5.903 18.743 5.903 3.467 4.584 4.184 32.453 5.706 51.166 9.451 59.821 9.451 59.821L0 62.396' />\n            <path d='M29.91,61.761 L38.969,59.263 L30.045,80 L11.998,66.538 L19.098,64.644 C19.098,64.644 3.276,20.694 21.128,5.095 C32.325,-3.789 43.164,3.999 42.965,4.872 C40.203,4.812 37.842,5.844 37.842,5.844 C37.842,5.844 31.789,3.265 27.475,12.503 C23.719,20.705 22.048,34.474 29.91,61.761' />\n            <path d='M41.806,17.606 C42.599,24.356 38.244,27.206 38.244,27.206 L37.819,30.659 C37.819,30.659 47.709,25.549 45.669,15.819 C44.566,15.913 42.212,17.242 41.806,17.606' />\n          </g>\n        </svg>\n      </span>\n      <p>\n        It looks like this is the first time using event with this agent.\n        Register a handle and avatar for this agent ID.\n      </p>\n      <form\n        onSubmit={e => {\n          e.preventDefault()\n\n          const name = e.target[0].value\n          const avatarURL = e.target[1].value\n\n          if (name.length === 0) {\n            return\n          }\n          registerUser({\n            name,\n            avatarURL\n          })\n        }}\n      >\n        <input placeholder='input @handle' />\n        <br />\n        <input placeholder='paste url for avatar image' />\n        <br />\n        <button type='submit'>\n          Register!\n        </button>\n      </form>\n    </div>\n  </section>\n)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { connect } from '@holochain/hc-web-client'\n\nimport { UserHeader } from './components/UserHeader'\nimport { EventList } from './components/EventList'\nimport { EventHeader } from './components/EventHeader'\nimport { CreateEventForm } from './components/CreateEventForm'\nimport { WelcomeScreen } from './components/WelcomeScreen'\nimport { JoinEventScreen } from './components/JoinEventScreen'\nimport { RegisterScreen } from './components/RegisterScreen'\n\n// --------------------------------------\n// Application\n// --------------------------------------\n\nclass View extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      holochainConnection: connect(),\n      connected: false,\n      user: {},\n      users: {},\n      event: {},\n      events: [],\n      messages: {},\n      sidebarOpen: false,\n      userListOpen: window.innerWidth > 1000\n    }\n\n    this.actions = {\n      // --------------------------------------\n      // UI\n      // --------------------------------------\n\n      setSidebar: sidebarOpen => this.setState({ sidebarOpen }),\n      setUserList: userListOpen => this.setState({ userListOpen }),\n\n      // --------------------------------------\n      // User\n      // --------------------------------------\n\n      setUser: user => {\n        this.setState({ user })\n        this.actions.getEvents()\n      },\n\n      // --------------------------------------\n      // Event\n      // --------------------------------------\n\n      setEvent: event => {\n        this.setState({ event, sidebarOpen: false })\n        this.actions.getMessages(event.id)\n        this.actions.getEventMembers(event.id)\n        this.actions.scrollToEnd()\n      },\n\n      joinEvent: event => {\n        console.log('joining event')\n        this.actions.setEvent(event)\n        this.makeHolochainCall('events-goer-4000/event/join_event', { event_address: event.id }, (result) => {\n          console.log('joined event', result)\n        })\n      },\n\n      getEventMembers: eventId => {\n        this.makeHolochainCall('events-goer-4000/event/get_members', {\n          event_address: eventId\n        }, (result) => {\n          console.log('retrieved members', result)\n          const users = result.Ok\n          users.forEach(address => {\n            this.actions.getUserProfile(address)\n          })\n          this.setState({\n            event: { ...this.state.event, users }\n          })\n        })\n      },\n\n      sendMessage: ({ text, eventId }) => {\n        const message = {\n          message_type: 'text',\n          timestamp: Math.floor(Date.now() / 1000),\n          payload: text,\n          meta: ''\n        }\n        this.makeHolochainCall('events-goer-4000/event/post_message', {\n          event_address: eventId,\n          message\n        }, (result) => {\n          console.log('message posted', result)\n          setTimeout(() => this.actions.getMessages(eventId), 1000) // hack for now\n          this.actions.scrollToEnd()\n        })\n      },\n\n      getMessages: (eventId) => {\n        this.makeHolochainCall('events-goer-4000/event/get_messages', { address: eventId }, (result) => {\n          console.log('retrieved messages', result)\n\n          const eventMessages = result.Ok.map(({ address, entry }) => ({\n            text: entry.payload,\n            sender: entry.author,\n            createdAt: entry.timestamp,\n            id: address\n          }))\n\n          this.setState({\n            messages: { ...this.state.messages, [eventId]: eventMessages }\n          })\n        })\n      },\n\n      createEvent: options => {\n        const eventSpec = {\n          name: options.name,\n          description: options.description,\n          initial_members: []\n        }\n        this.makeHolochainCall('events-goer-4000/event/create_event', eventSpec, (result) => {\n          console.log('created event', result)\n          this.actions.setEvent({\n            id: result.Ok,\n            name: options.name,\n            users: []\n          })\n          this.actions.getEvents()\n        })\n      },\n\n      getUserProfile: userId => {\n        this.makeHolochainCall('events-goer-4000/event/get_member_profile', { agent_address: userId }, (result) => {\n          console.log('retrieved profile', result)\n          this.setState({\n            users: { ...this.state.users, [userId]: result.Ok }\n          })\n        })\n      },\n\n      getEvents: () => {\n        this.makeHolochainCall('events-goer-4000/event/get_all_public_events', {}, (result) => {\n          console.log('retrieved public events', result)\n          let events = result.Ok.map(({ address, entry }) => {\n            return {\n              id: address,\n              private: !entry.public,\n              name: entry.name,\n              users: []\n            }\n          })\n          this.setState({\n            events\n          })\n        })\n      },\n\n      registerUser: ({ name, avatarURL }) => {\n        this.makeHolochainCall('events-goer-4000/event/register', { name, avatar_url: avatarURL }, result => {\n          console.log('registered user', result)\n          this.actions.setUser({ id: result.Ok, name, avatarURL })\n        })\n      },\n\n      scrollToEnd: e =>\n        setTimeout(() => {\n          const elem = document.querySelector('#messages')\n          elem && (elem.scrollTop = 100000)\n        }, 0)\n\n    }\n  }\n\n  componentDidMount () {\n    this.state.holochainConnection.then(({ call }) => {\n      call('events-goer-4000/event/get_my_member_profile')({}).then((result) => {\n        const profile = JSON.parse(result).Ok\n        if (profile) {\n          console.log('registration user found with profile:', profile)\n          this.actions.setUser({ id: profile.address, name: profile.name, avatarURL: profile.avatar_url })\n        } else {\n          console.log('User has not registered a profile. Complete the form to proceed')\n        }\n        this.setState({ connected: true })\n      })\n    })\n  }\n\n  makeHolochainCall (callString, params, callback) {\n    this.state.holochainConnection.then(({ call }) => {\n      call(callString)(params).then((result) => callback(JSON.parse(result)))\n    })\n  }\n\n  render () {\n    const {\n      user,\n      users,\n      event,\n      events,\n      messages,\n      sidebarOpen,\n      userListOpen,\n      connected\n    } = this.state\n    const { createEvent, registerUser } = this.actions\n\n    return (\n      <main>\n        <section data-open={sidebarOpen}>\n          <UserHeader user={user} />\n          {user.id && <CreateEventForm submit={createEvent} />}\n          {user.id && <EventList\n            state={this.state}\n            user={user}\n            users={users}\n            userListOpen={userListOpen}\n            events={events}\n            messages={messages}\n            current={event}\n            actions={this.actions}\n          />}\n          { connected ? (\n            user.id ? null : <RegisterScreen registerUser={registerUser} />\n          ) : (\n            <WelcomeScreen message='Connecting to Holochain... Make sure the conductor is running and try refreshing the page' />\n          )}\n        </section>\n      </main>\n    )\n  }\n}\n\nReactDOM.render(<View />, document.querySelector('#root'))\n"],"sourceRoot":""}